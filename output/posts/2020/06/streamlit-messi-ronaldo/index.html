<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Adil Moujahid, Data Analytics and more">




        <title>Analyzing Messi and Ronaldo's Games using Python and Streamlit // Adil Moujahid // Data Analytics and more</title>



    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.3.0/pure-min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.1.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../../../../theme/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../../../theme/css/pure.css">
    <link rel="stylesheet" href="../../../../theme/css/pygments.css">
    <link rel="stylesheet" href="../../../../theme/css/custom.css">


    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

    <script src="//load.sumome.com/" data-sumo-site-id="4ce3990f4d6fb482b4d97fa9208bd2242f7bb8c711ce30290794390dbe7ed180" async></script>

</head>

<body>
<div class="pure-g-r" id="layout">
    <div class="sidebar sidebar-article pure-u">
        <header class="header-article">
            <hgroup>
                <a href="../../../../author/adil-moujahid.html" title="See posts by Adil Moujahid">
                        <img class="avatar" alt="Adil Moujahid" src="http://www.gravatar.com/avatar/2ac2a00f5911cc8234778be41c835e13">
                </a>
                <h2 class="article-info">Adil Moujahid</h2>
                <small class="about-author"></small>

                <!-- ko-fi -->
                <div>
                    <a href='https://ko-fi.com/W7W4K1LZ' target='_blank'><img height='36' src='https://az743702.vo.msecnd.net/cdn/kofi4.png?v=0' style='border:0px;height:32px;' border='0' alt='Buy Me a Coffee at ko-fi.com' /></a>
                </div>
                <br>

                <div>
                <a href="https://twitter.com/AdilMouja" class="twitter-follow-button" data-show-count="false">
                    Follow @AdilMouja
                </a>
                <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                </div>

                <h5>Published</h5>
                <p>Mon 15 June 2020</p>
                <a href="/">&larr;Home</a>
            </hgroup>
        </header>
    </div>
    <div class="pure-u">
        <div class="content">
            <section class="post">
                <header class="post-header">
                    <h1>Analyzing Messi and Ronaldo's Games using Python and Streamlit</h1>
                    <br>
                    <p class="post-meta">
                        // tags                             <a class="post-category" href="../../../../tag/python/">python</a>
                            <a class="post-category" href="../../../../tag/streamlit/">streamlit</a>
                    </p>
                </header>
            </section>
            <br>
            <p><style type="text/css">/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI colors. */
.ansibold {
  font-weight: bold;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  border-left-width: 1px;
  padding-left: 5px;
  background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%);
}
div.cell.jupyter-soft-selected {
  border-left-color: #90CAF9;
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected {
  border-color: #ababab;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%);
}
@media print {
  div.cell.selected {
    border-color: transparent;
  }
}
div.cell.selected.jupyter-soft-selected {
  border-left-width: 0;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%);
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%);
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell > div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area > div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area > div.highlight > pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the <head> if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  padding: 0.4em;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */
  /* .CodeMirror-lines */
  padding: 0;
  border: 0;
  border-radius: 0;
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org>
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}


.rendered_html pre,



.rendered_html tr,
.rendered_html th,

.rendered_html td,


.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,

div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell > div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
</style>
<style type="text/css">.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */</style>
<style type="text/css">
/* Temporary definitions which will become obsolete with Notebook release 5.0 */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
</style>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In 2003, Michael Lewis published "Moneyball"; a book about Billy Beane, the Oakland Athletics general manager who applied statistical analysis to baseball in order to identify and recruit under-valued baseball players. With the use of data, Billy Beane achieved as many wins as teams with more than double the payroll, and managed to get to the play-offs in 4 successive years from 2000 to 2003.</p>
<p>In 2011, Moneyball was adapted into a movie with the role of Billy Beane played by Brad Pitt. Both the book and the movie were a success and popularized the idea of using data to improve sport teams performance. The usage of data in sport is often referred as: Sports analytics.</p>
<p>In baseball, the nature of the sport makes it easy to collect a lot of data points about in-game action. You can download from <a href="http://www.seanlahman.com/baseball-archive/statistics/">this link</a> a database covering in-game data points and other statistics about the players and teams going back to 1871. If you're interested in analyzing baseball data, you can find <a href="http://adilmoujahid.com/posts/2014/07/baseball-analytics/">here</a> a blog post on the topic that I wrote a few years back.</p>
<p>In the case of football (soccer), data collection is more complex. Football is a dynamic sport with 22 players on the pitch and unlimited possibilities of ball movement and players positioning. Fortunately in the last few years, with the advancement in sensors and video analysis; it is possible to have high quality football data that can be used to analyze football games, teams and players. In this blog post, we will be using an open collection of football logs to create a web app that analyzes Messi and Ronaldo's game during LaLiga season 2017-18 [1]. We will be using Python/Streamlit to create an interactive web app that compares both players stats and shows their positions on the pitch.</p>
<p>I would like to thank  <a href="https://lucapappalardo.com/">Luca Pappalardo</a> and his colleagues for making this great dataset available to the public.</p>
<p>Below is an animated gif of the application that we will build. You can find the source code in <a href="https://github.com/adilmoujahid/streamlit-messi-ronaldo">this github repository</a>.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img alt="Alt Text" src="/images/streamlit-messi-ronaldo.gif"/></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="1.-Getting,-Reading-and-Structuring-the-Data">1. Getting, Reading and Structuring the Data<a class="anchor-link" href="#1.-Getting,-Reading-and-Structuring-the-Data">¶</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Messi and Ronaldo dominated world football during the last decade with a combined 11 FIFA Ballon d'Or awards (six for Messi and five for Ronaldo). Both players are considered to be amongst the greatest players of all time and they're frequently compared to each other.</p>
<p>In this blog post, we will analyze the games of both players during LaLiga (Spanish League) season 2017-18. This was Ronaldo's last season in Spain before moving to Juventus.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="1.1.-Getting-the-Data">1.1. Getting the Data<a class="anchor-link" href="#1.1.-Getting-the-Data">¶</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To start with, we need to download the datasets that are introduced in the paper: <a href="https://www.nature.com/articles/s41597-019-0247-7">A public data set of spatio-temporal match events in soccer competitions</a> from <a href="https://figshare.com/collections/Soccer_match_event_dataset/4415000/5">this link</a>. We need the following:</p>
<ul>
<li><strong>matches/matches_Spain.json</strong>: Information about LaLiga (Spanish football league) season 2017-18 matches.</li>
<li><strong>events/events_Spain.json</strong>: All the events that occur during each match of LaLiga season 2017-18.</li>
<li><strong>players.json</strong>: All players of the teams playing in seven national and international soccer competitions (Italian, Spanish, French, German, English first divisions, World Cup 2018, European Cup 2016).</li>
<li><strong>teams.json</strong>: All  teams in seven prominent soccer competitions (Italian, Spanish, German, French and English first divisions, World Cup 2018, European Cup 2016).</li>
<li><strong>tags2name.csv</strong>: Mapping of tag identifiers to tag names</li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="1.2.-Reading-the-Data">1.2. Reading the Data<a class="anchor-link" href="#1.2.-Reading-the-Data">¶</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We start by importing the different Python libraries that we need.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [1]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">unicodedata</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>From players.json, we can find the player id "wyId" of both players:</p>
<ul>
<li>3359 for Messi</li>
<li>3322 for Ronaldo </li>
</ul>
<p>We also can find from teams.json, the team id "wyId" of both teams:</p>
<ul>
<li>676 for FC Barcelona</li>
<li>675 for Real Madrid</li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Next, we read Spain matches and events datasets:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [2]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'../data/matches/matches_Spain.json'</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
    <span class="n">matches_spain_data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'../data/events/events_Spain.json'</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
    <span class="n">events_spain_data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="1.3.-Structuring-the-Data">1.3. Structuring the Data<a class="anchor-link" href="#1.3.-Structuring-the-Data">¶</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Structuring-Messi-and-Ronaldo's-events-data">Structuring Messi and Ronaldo's events data<a class="anchor-link" href="#Structuring-Messi-and-Ronaldo's-events-data">¶</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Next, we will structure all  Real Madrid and FC Barcelona matches information into 2 Pandas DataFrames.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [3]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">barca_matches</span>  <span class="o">=</span> <span class="p">[</span><span class="n">match</span> <span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches_spain_data</span> <span class="k">if</span> <span class="s1">'676'</span> <span class="ow">in</span> <span class="n">match</span><span class="p">[</span><span class="s1">'teamsData'</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()]</span>
<span class="n">real_matches</span>  <span class="o">=</span> <span class="p">[</span><span class="n">match</span> <span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches_spain_data</span> <span class="k">if</span> <span class="s1">'675'</span> <span class="ow">in</span> <span class="n">match</span><span class="p">[</span><span class="s1">'teamsData'</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [4]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">barca_matches_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">barca_matches</span><span class="p">)</span>
<span class="n">real_matches_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">real_matches</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [5]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">barca_matches_df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[5]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>status</th>
<th>roundId</th>
<th>gameweek</th>
<th>teamsData</th>
<th>seasonId</th>
<th>dateutc</th>
<th>winner</th>
<th>venue</th>
<th>wyId</th>
<th>label</th>
<th>date</th>
<th>referees</th>
<th>duration</th>
<th>competitionId</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>Played</td>
<td>4406122</td>
<td>38</td>
<td>{'676': {'scoreET': 0, 'coachId': 92894, 'side...</td>
<td>181144</td>
<td>2018-05-20 18:45:00</td>
<td>676</td>
<td>Camp Nou</td>
<td>2565922</td>
<td>Barcelona - Real Sociedad, 1 - 0</td>
<td>May 20, 2018 at 8:45:00 PM GMT+2</td>
<td>[{'refereeId': 398931, 'role': 'referee'}, {'r...</td>
<td>Regular</td>
<td>795</td>
</tr>
<tr>
<th>1</th>
<td>Played</td>
<td>4406122</td>
<td>37</td>
<td>{'676': {'scoreET': 0, 'coachId': 92894, 'side...</td>
<td>181144</td>
<td>2018-05-13 18:45:00</td>
<td>695</td>
<td>Estadio Ciudad de Valencia</td>
<td>2565917</td>
<td>Levante - Barcelona, 5 - 4</td>
<td>May 13, 2018 at 8:45:00 PM GMT+2</td>
<td>[{'refereeId': 420995, 'role': 'referee'}, {'r...</td>
<td>Regular</td>
<td>795</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Next,  we will structure all Messi and Ronaldo's events data into 2 Pandas DataFrames.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [6]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">messi_events_data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">events_spain_data</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">event</span><span class="p">[</span><span class="s1">'playerId'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3359</span><span class="p">:</span>
        <span class="n">messi_events_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
        
<span class="n">messi_events_data_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">messi_events_data</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [7]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ronaldo_events_data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">events_spain_data</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">event</span><span class="p">[</span><span class="s1">'playerId'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3322</span><span class="p">:</span>
        <span class="n">ronaldo_events_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

<span class="n">ronaldo_events_data_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">ronaldo_events_data</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Adding-tags-to-events-data">Adding tags to events data<a class="anchor-link" href="#Adding-tags-to-events-data">¶</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>From tags2name.csv, we select the event tags that are interesting for our analysis.</p>
<ul>
<li><strong>101</strong>: Goal</li>
<li><strong>301</strong>: Assist</li>
<li><strong>302</strong>: key Pass </li>
<li><strong>401</strong>: Left Foot</li>
<li><strong>402</strong>: Right Foot</li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We add these tags as new columns in the events DataFrames.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [8]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">add_tag</span><span class="p">(</span><span class="n">tags</span><span class="p">,</span> <span class="n">tag_id</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">tag_id</span> <span class="ow">in</span> <span class="p">[</span><span class="n">tag</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span> <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">tags</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [9]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">messi_events_data_df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[9]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>Index(['eventId', 'subEventName', 'tags', 'playerId', 'positions', 'matchId',
       'eventName', 'teamId', 'matchPeriod', 'eventSec', 'subEventId', 'id'],
      dtype='object')</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [10]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">messi_events_data_df</span><span class="p">[</span><span class="s1">'goal'</span><span class="p">]</span> <span class="o">=</span> <span class="n">messi_events_data_df</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">add_tag</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">101</span><span class="p">))</span>
<span class="n">messi_events_data_df</span><span class="p">[</span><span class="s1">'assist'</span><span class="p">]</span> <span class="o">=</span> <span class="n">messi_events_data_df</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">add_tag</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">301</span><span class="p">))</span>
<span class="n">messi_events_data_df</span><span class="p">[</span><span class="s1">'key_pass'</span><span class="p">]</span> <span class="o">=</span> <span class="n">messi_events_data_df</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">add_tag</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">302</span><span class="p">))</span>
<span class="n">messi_events_data_df</span><span class="p">[</span><span class="s1">'left_foot'</span><span class="p">]</span> <span class="o">=</span> <span class="n">messi_events_data_df</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">add_tag</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">401</span><span class="p">))</span>
<span class="n">messi_events_data_df</span><span class="p">[</span><span class="s1">'right_foot'</span><span class="p">]</span> <span class="o">=</span> <span class="n">messi_events_data_df</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">add_tag</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">402</span><span class="p">))</span>

<span class="n">ronaldo_events_data_df</span><span class="p">[</span><span class="s1">'goal'</span><span class="p">]</span> <span class="o">=</span> <span class="n">ronaldo_events_data_df</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">add_tag</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">101</span><span class="p">))</span>
<span class="n">ronaldo_events_data_df</span><span class="p">[</span><span class="s1">'assist'</span><span class="p">]</span> <span class="o">=</span> <span class="n">ronaldo_events_data_df</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">add_tag</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">301</span><span class="p">))</span>
<span class="n">ronaldo_events_data_df</span><span class="p">[</span><span class="s1">'key_pass'</span><span class="p">]</span> <span class="o">=</span> <span class="n">ronaldo_events_data_df</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">add_tag</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">302</span><span class="p">))</span>
<span class="n">ronaldo_events_data_df</span><span class="p">[</span><span class="s1">'left_foot'</span><span class="p">]</span> <span class="o">=</span> <span class="n">ronaldo_events_data_df</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">add_tag</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">401</span><span class="p">))</span>
<span class="n">ronaldo_events_data_df</span><span class="p">[</span><span class="s1">'right_foot'</span><span class="p">]</span> <span class="o">=</span> <span class="n">ronaldo_events_data_df</span><span class="p">[</span><span class="s1">'tags'</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">add_tag</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">402</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [11]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">messi_events_data_df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[11]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>eventId</th>
<th>subEventName</th>
<th>tags</th>
<th>playerId</th>
<th>positions</th>
<th>matchId</th>
<th>eventName</th>
<th>teamId</th>
<th>matchPeriod</th>
<th>eventSec</th>
<th>subEventId</th>
<th>id</th>
<th>goal</th>
<th>assist</th>
<th>key_pass</th>
<th>left_foot</th>
<th>right_foot</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>8</td>
<td>Simple pass</td>
<td>[{'id': 1801}]</td>
<td>3359</td>
<td>[{'y': 50, 'x': 50}, {'y': 50, 'x': 40}]</td>
<td>2565554</td>
<td>Pass</td>
<td>676</td>
<td>1H</td>
<td>1.012047</td>
<td>85</td>
<td>180465950</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
</tr>
<tr>
<th>1</th>
<td>8</td>
<td>Simple pass</td>
<td>[{'id': 1801}]</td>
<td>3359</td>
<td>[{'y': 64, 'x': 71}, {'y': 67, 'x': 54}]</td>
<td>2565554</td>
<td>Pass</td>
<td>676</td>
<td>1H</td>
<td>51.068905</td>
<td>85</td>
<td>180465968</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Adding-matches-information-to-the-events-DataFrames">Adding matches information to the events DataFrames<a class="anchor-link" href="#Adding-matches-information-to-the-events-DataFrames">¶</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [12]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">messi_events_data_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">messi_events_data_df</span><span class="p">,</span> <span class="n">barca_matches_df</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">'matchId'</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">'wyId'</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">"left"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [13]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ronaldo_events_data_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">ronaldo_events_data_df</span><span class="p">,</span> <span class="n">real_matches_df</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">'matchId'</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">'wyId'</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s2">"left"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [14]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">messi_events_data_df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[14]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>eventId</th>
<th>subEventName</th>
<th>tags</th>
<th>playerId</th>
<th>positions</th>
<th>matchId</th>
<th>eventName</th>
<th>teamId</th>
<th>matchPeriod</th>
<th>eventSec</th>
<th>...</th>
<th>seasonId</th>
<th>dateutc</th>
<th>winner</th>
<th>venue</th>
<th>wyId</th>
<th>label</th>
<th>date</th>
<th>referees</th>
<th>duration</th>
<th>competitionId</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>8</td>
<td>Simple pass</td>
<td>[{'id': 1801}]</td>
<td>3359</td>
<td>[{'y': 50, 'x': 50}, {'y': 50, 'x': 40}]</td>
<td>2565554</td>
<td>Pass</td>
<td>676</td>
<td>1H</td>
<td>1.012047</td>
<td>...</td>
<td>181144</td>
<td>2017-08-20 18:15:00</td>
<td>676</td>
<td>Camp Nou</td>
<td>2565554</td>
<td>Barcelona - Real Betis, 2 - 0</td>
<td>August 20, 2017 at 8:15:00 PM GMT+2</td>
<td>[{'refereeId': 398919, 'role': 'referee'}, {'r...</td>
<td>Regular</td>
<td>795</td>
</tr>
<tr>
<th>1</th>
<td>8</td>
<td>Simple pass</td>
<td>[{'id': 1801}]</td>
<td>3359</td>
<td>[{'y': 64, 'x': 71}, {'y': 67, 'x': 54}]</td>
<td>2565554</td>
<td>Pass</td>
<td>676</td>
<td>1H</td>
<td>51.068905</td>
<td>...</td>
<td>181144</td>
<td>2017-08-20 18:15:00</td>
<td>676</td>
<td>Camp Nou</td>
<td>2565554</td>
<td>Barcelona - Real Betis, 2 - 0</td>
<td>August 20, 2017 at 8:15:00 PM GMT+2</td>
<td>[{'refereeId': 398919, 'role': 'referee'}, {'r...</td>
<td>Regular</td>
<td>795</td>
</tr>
</tbody>
</table>
<p>2 rows × 31 columns</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Saving-Data-to-Disk">Saving Data to Disk<a class="anchor-link" href="#Saving-Data-to-Disk">¶</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [15]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">messi_events_data_df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">'../data/messi_events_data_df.pkl'</span><span class="p">)</span>
<span class="n">ronaldo_events_data_df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">'../data/ronaldo_events_data_df.pkl'</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Getting-matches-dates">Getting matches dates<a class="anchor-link" href="#Getting-matches-dates">¶</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Next, we will create 2 DataFrames with all Real Madrid and FC Barcelona LaLiga matches during season 2017-18 and the corresponding dates.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [16]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">barca_matches_dates_df</span> <span class="o">=</span> <span class="n">barca_matches_df</span><span class="p">[[</span><span class="s1">'label'</span><span class="p">,</span> <span class="s1">'date'</span><span class="p">]]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">real_matches_dates_df</span> <span class="o">=</span> <span class="n">real_matches_df</span><span class="p">[[</span><span class="s1">'label'</span><span class="p">,</span> <span class="s1">'date'</span><span class="p">]]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [17]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">barca_matches_dates_df</span><span class="p">[</span><span class="s1">'date'</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">barca_matches_df</span><span class="p">[</span><span class="s1">'date'</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">date</span>
<span class="n">real_matches_dates_df</span><span class="p">[</span><span class="s1">'date'</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">real_matches_df</span><span class="p">[</span><span class="s1">'date'</span><span class="p">],</span> <span class="n">utc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">date</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [18]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#Change date to string </span>
<span class="n">barca_matches_dates_df</span><span class="p">[</span><span class="s1">'date'</span><span class="p">]</span> <span class="o">=</span> <span class="n">barca_matches_dates_df</span><span class="p">[</span><span class="s1">'date'</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">'%Y-%m-</span><span class="si">%d</span><span class="s1">'</span><span class="p">))</span>
<span class="n">real_matches_dates_df</span><span class="p">[</span><span class="s1">'date'</span><span class="p">]</span> <span class="o">=</span> <span class="n">real_matches_dates_df</span><span class="p">[</span><span class="s1">'date'</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">'%Y-%m-</span><span class="si">%d</span><span class="s1">'</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [19]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">barca_matches_dates_df</span> <span class="o">=</span> <span class="n">barca_matches_dates_df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">"label"</span><span class="p">:</span> <span class="s2">"match"</span><span class="p">})</span>
<span class="n">real_matches_dates_df</span> <span class="o">=</span> <span class="n">real_matches_dates_df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">"label"</span><span class="p">:</span> <span class="s2">"match"</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [20]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">barca_matches_dates_df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[20]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>match</th>
<th>date</th>
</tr>
</thead>
<tbody>
<tr>
<th>0</th>
<td>Barcelona - Real Sociedad, 1 - 0</td>
<td>2018-05-20</td>
</tr>
<tr>
<th>1</th>
<td>Levante - Barcelona, 5 - 4</td>
<td>2018-05-13</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Saving-to-Disk">Saving to Disk<a class="anchor-link" href="#Saving-to-Disk">¶</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [21]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">barca_matches_dates_df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">'../data/barca_matches_dates_df.pkl'</span><span class="p">)</span>
<span class="n">real_matches_dates_df</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">'../data/real_matches_dates_df.pkl'</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="2.-Analyzing-the-Data">2. Analyzing the Data<a class="anchor-link" href="#2.-Analyzing-the-Data">¶</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In this section, we will analyze Messi and Ronaldo's events DataFrames. We will compute a few statistics and we will see how we can plot the events on a football pitch.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Total-number-of-events-broken-down-by-player-and-event-type">Total number of events broken down by player and event type<a class="anchor-link" href="#Total-number-of-events-broken-down-by-player-and-event-type">¶</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [22]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">goals</span> <span class="o">=</span> <span class="p">[</span><span class="n">messi_events_data_df</span><span class="p">[</span><span class="s1">'goal'</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="n">ronaldo_events_data_df</span><span class="p">[</span><span class="s1">'goal'</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()]</span>
<span class="n">assists</span> <span class="o">=</span> <span class="p">[</span><span class="n">messi_events_data_df</span><span class="p">[</span><span class="s1">'assist'</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="n">ronaldo_events_data_df</span><span class="p">[</span><span class="s1">'assist'</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()]</span>
<span class="n">shots</span> <span class="o">=</span> <span class="p">[</span><span class="n">messi_events_data_df</span><span class="p">[</span><span class="n">messi_events_data_df</span><span class="p">[</span><span class="s1">'eventName'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Shot'</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()[</span><span class="s1">'eventName'</span><span class="p">],</span>
         <span class="n">ronaldo_events_data_df</span><span class="p">[</span><span class="n">ronaldo_events_data_df</span><span class="p">[</span><span class="s1">'eventName'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Shot'</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()[</span><span class="s1">'eventName'</span><span class="p">]]</span>
<span class="n">free_kicks</span> <span class="o">=</span> <span class="p">[</span><span class="n">messi_events_data_df</span><span class="p">[</span><span class="n">messi_events_data_df</span><span class="p">[</span><span class="s1">'subEventName'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Free kick shot'</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()[</span><span class="s1">'subEventName'</span><span class="p">],</span> 
              <span class="n">ronaldo_events_data_df</span><span class="p">[</span><span class="n">ronaldo_events_data_df</span><span class="p">[</span><span class="s1">'subEventName'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Free kick shot'</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()[</span><span class="s1">'subEventName'</span><span class="p">]]</span>
<span class="n">passes</span> <span class="o">=</span> <span class="p">[</span><span class="n">messi_events_data_df</span><span class="p">[</span><span class="n">messi_events_data_df</span><span class="p">[</span><span class="s1">'eventName'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Pass'</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()[</span><span class="s1">'eventName'</span><span class="p">],</span>
          <span class="n">ronaldo_events_data_df</span><span class="p">[</span><span class="n">ronaldo_events_data_df</span><span class="p">[</span><span class="s1">'eventName'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Pass'</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()[</span><span class="s1">'eventName'</span><span class="p">]]</span>

<span class="n">stats_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">goals</span><span class="p">,</span> <span class="n">assists</span><span class="p">,</span> <span class="n">shots</span><span class="p">,</span> <span class="n">free_kicks</span><span class="p">,</span> <span class="n">passes</span><span class="p">],</span> 
                        <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">'Messi'</span><span class="p">,</span> <span class="s1">'Ronaldo'</span><span class="p">],</span> 
                        <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">'Goals'</span><span class="p">,</span> <span class="s1">'Assists'</span><span class="p">,</span> <span class="s1">'Shots'</span><span class="p">,</span> <span class="s1">'Free Kicks'</span><span class="p">,</span> <span class="s1">'Passes'</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="n">stats_df</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>            Messi  Ronaldo
Goals          34       26
Assists        13        5
Shots         142      151
Free Kicks     47       15
Passes       1787      727
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Goals-by-left-foot-vs.-right-foot">Goals by left foot vs. right foot<a class="anchor-link" href="#Goals-by-left-foot-vs.-right-foot">¶</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [23]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">messi_lf_goals</span> <span class="o">=</span> <span class="n">messi_events_data_df</span><span class="p">[</span><span class="n">messi_events_data_df</span><span class="p">[</span><span class="s1">'left_foot'</span><span class="p">]</span> <span class="o">==</span> <span class="kc">True</span><span class="p">][</span><span class="s1">'goal'</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">messi_rf_goals</span> <span class="o">=</span> <span class="n">messi_events_data_df</span><span class="p">[</span><span class="n">messi_events_data_df</span><span class="p">[</span><span class="s1">'right_foot'</span><span class="p">]</span> <span class="o">==</span> <span class="kc">True</span><span class="p">][</span><span class="s1">'goal'</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">"Messi's goals with left foot: "</span><span class="p">,</span> <span class="n">messi_lf_goals</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Messi's goals with right foot: "</span><span class="p">,</span> <span class="n">messi_rf_goals</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Messi's goals with left foot:  32
Messi's goals with right foot:  2
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [24]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ronaldo_lf_goals</span> <span class="o">=</span> <span class="n">ronaldo_events_data_df</span><span class="p">[</span><span class="n">ronaldo_events_data_df</span><span class="p">[</span><span class="s1">'left_foot'</span><span class="p">]</span> <span class="o">==</span> <span class="kc">True</span><span class="p">][</span><span class="s1">'goal'</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">ronaldo_rf_goals</span> <span class="o">=</span> <span class="n">ronaldo_events_data_df</span><span class="p">[</span><span class="n">ronaldo_events_data_df</span><span class="p">[</span><span class="s1">'right_foot'</span><span class="p">]</span> <span class="o">==</span> <span class="kc">True</span><span class="p">][</span><span class="s1">'goal'</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [25]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">"Ronaldo's goals with left foot: "</span><span class="p">,</span> <span class="n">ronaldo_lf_goals</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Ronaldo's goals with right foot: "</span><span class="p">,</span> <span class="n">ronaldo_rf_goals</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Ronaldo's goals with left foot:  7
Ronaldo's goals with right foot:  14
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Ploting-the-events-on-a-football-pitch">Ploting the events on a football pitch<a class="anchor-link" href="#Ploting-the-events-on-a-football-pitch">¶</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>For each event in <code>messi_events_data_df</code> and <code>ronaldo_events_data_df</code>, we have the origin and destination positions associated with the event. Each position is a pair of coordinates (x, y). The x and y coordinates are always in the range [0, 100] and indicate the percentage of the field from the perspective of the attacking team. [2] We will use these positions to plot the events on a football pitch.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [26]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">messi_events_data_df</span><span class="p">[</span><span class="s1">'positions'</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[26]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>0    [{'y': 50, 'x': 50}, {'y': 50, 'x': 40}]
1    [{'y': 64, 'x': 71}, {'y': 67, 'x': 54}]
2    [{'y': 62, 'x': 62}, {'y': 64, 'x': 69}]
3    [{'y': 64, 'x': 69}, {'y': 74, 'x': 83}]
4    [{'y': 74, 'x': 83}, {'y': 61, 'x': 77}]
Name: positions, dtype: object</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [27]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">plots</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">bokeh.io</span> <span class="k">import</span> <span class="n">output_notebook</span>
<span class="kn">from</span> <span class="nn">bokeh.plotting</span> <span class="k">import</span> <span class="n">figure</span><span class="p">,</span> <span class="n">show</span>
<span class="n">output_notebook</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_html rendered_html output_subarea ">
<div class="bk-root">
<a class="bk-logo bk-logo-small bk-logo-notebook" href="https://bokeh.org" target="_blank"></a>
<span id="1001">Loading BokehJS ...</span>
</div>
</div>
</div>
<div class="output_area">
<div class="prompt"></div>
<div id="db41f9fe-02fa-44a0-81fc-1019eb29f015"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#db41f9fe-02fa-44a0-81fc-1019eb29f015');

(function(root) {
  function now() {
    return new Date();
  }

  var force = true;

  if (typeof root._bokeh_onload_callbacks === "undefined" || force === true) {
    root._bokeh_onload_callbacks = [];
    root._bokeh_is_loading = undefined;
  }

  var JS_MIME_TYPE = 'application/javascript';
  var HTML_MIME_TYPE = 'text/html';
  var EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';
  var CLASS_NAME = 'output_bokeh rendered_html';

  /**
   * Render data to the DOM node
   */
  function render(props, node) {
    var script = document.createElement("script");
    node.appendChild(script);
  }

  /**
   * Handle when an output is cleared or removed
   */
  function handleClearOutput(event, handle) {
    var cell = handle.cell;

    var id = cell.output_area._bokeh_element_id;
    var server_id = cell.output_area._bokeh_server_id;
    // Clean up Bokeh references
    if (id != null && id in Bokeh.index) {
      Bokeh.index[id].model.document.clear();
      delete Bokeh.index[id];
    }

    if (server_id !== undefined) {
      // Clean up Bokeh references
      var cmd = "from bokeh.io.state import curstate; print(curstate().uuid_to_server['" + server_id + "'].get_sessions()[0].document.roots[0]._id)";
      cell.notebook.kernel.execute(cmd, {
        iopub: {
          output: function(msg) {
            var id = msg.content.text.trim();
            if (id in Bokeh.index) {
              Bokeh.index[id].model.document.clear();
              delete Bokeh.index[id];
            }
          }
        }
      });
      // Destroy server and session
      var cmd = "import bokeh.io.notebook as ion; ion.destroy_server('" + server_id + "')";
      cell.notebook.kernel.execute(cmd);
    }
  }

  /**
   * Handle when a new output is added
   */
  function handleAddOutput(event, handle) {
    var output_area = handle.output_area;
    var output = handle.output;

    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only
    if ((output.output_type != "display_data") || (!output.data.hasOwnProperty(EXEC_MIME_TYPE))) {
      return
    }

    var toinsert = output_area.element.find("." + CLASS_NAME.split(' ')[0]);

    if (output.metadata[EXEC_MIME_TYPE]["id"] !== undefined) {
      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];
      // store reference to embed id on output_area
      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE]["id"];
    }
    if (output.metadata[EXEC_MIME_TYPE]["server_id"] !== undefined) {
      var bk_div = document.createElement("div");
      bk_div.innerHTML = output.data[HTML_MIME_TYPE];
      var script_attrs = bk_div.children[0].attributes;
      for (var i = 0; i < script_attrs.length; i++) {
        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);
        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent
      }
      // store reference to server id on output_area
      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE]["server_id"];
    }
  }

  function register_renderer(events, OutputArea) {

    function append_mime(data, metadata, element) {
      // create a DOM node to render to
      var toinsert = this.create_output_subarea(
        metadata,
        CLASS_NAME,
        EXEC_MIME_TYPE
      );
      this.keyboard_manager.register_events(toinsert);
      // Render to node
      var props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};
      render(props, toinsert[toinsert.length - 1]);
      element.append(toinsert);
      return toinsert
    }

    /* Handle when an output is cleared or removed */
    events.on('clear_output.CodeCell', handleClearOutput);
    events.on('delete.Cell', handleClearOutput);

    /* Handle when a new output is added */
    events.on('output_added.OutputArea', handleAddOutput);

    /**
     * Register the mime type and append_mime function with output_area
     */
    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {
      /* Is output safe? */
      safe: true,
      /* Index of renderer in `output_area.display_order` */
      index: 0
    });
  }

  // register the mime type if in Jupyter Notebook environment and previously unregistered
  if (root.Jupyter !== undefined) {
    var events = require('base/js/events');
    var OutputArea = require('notebook/js/outputarea').OutputArea;

    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {
      register_renderer(events, OutputArea);
    }
  }

  
  if (typeof (root._bokeh_timeout) === "undefined" || force === true) {
    root._bokeh_timeout = Date.now() + 5000;
    root._bokeh_failed_load = false;
  }

  var NB_LOAD_WARNING = {'data': {'text/html':
     "<div style='background-color: #fdd'>\n"+
     "<p>\n"+
     "BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \n"+
     "may be due to a slow or bad network connection. Possible fixes:\n"+
     "</p>\n"+
     "<ul>\n"+
     "<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\n"+
     "<li>use INLINE resources instead, as so:</li>\n"+
     "</ul>\n"+
     "<code>\n"+
     "from bokeh.resources import INLINE\n"+
     "output_notebook(resources=INLINE)\n"+
     "</code>\n"+
     "</div>"}};

  function display_loaded() {
    var el = document.getElementById("1001");
    if (el != null) {
      el.textContent = "BokehJS is loading...";
    }
    if (root.Bokeh !== undefined) {
      if (el != null) {
        el.textContent = "BokehJS " + root.Bokeh.version + " successfully loaded.";
      }
    } else if (Date.now() < root._bokeh_timeout) {
      setTimeout(display_loaded, 100)
    }
  }


  function run_callbacks() {
    try {
      root._bokeh_onload_callbacks.forEach(function(callback) {
        if (callback != null)
          callback();
      });
    } finally {
      delete root._bokeh_onload_callbacks
    }
    console.debug("Bokeh: all callbacks have finished");
  }

  function load_libs(css_urls, js_urls, callback) {
    if (css_urls == null) css_urls = [];
    if (js_urls == null) js_urls = [];

    root._bokeh_onload_callbacks.push(callback);
    if (root._bokeh_is_loading > 0) {
      console.debug("Bokeh: BokehJS is being loaded, scheduling callback at", now());
      return null;
    }
    if (js_urls == null || js_urls.length === 0) {
      run_callbacks();
      return null;
    }
    console.debug("Bokeh: BokehJS not loaded, scheduling load and callback at", now());
    root._bokeh_is_loading = css_urls.length + js_urls.length;

    function on_load() {
      root._bokeh_is_loading--;
      if (root._bokeh_is_loading === 0) {
        console.debug("Bokeh: all BokehJS libraries/stylesheets loaded");
        run_callbacks()
      }
    }

    function on_error() {
      console.error("failed to load " + url);
    }

    for (var i = 0; i < css_urls.length; i++) {
      var url = css_urls[i];
      const element = document.createElement("link");
      element.onload = on_load;
      element.onerror = on_error;
      element.rel = "stylesheet";
      element.type = "text/css";
      element.href = url;
      console.debug("Bokeh: injecting link tag for BokehJS stylesheet: ", url);
      document.body.appendChild(element);
    }

    const hashes = {"https://cdn.bokeh.org/bokeh/release/bokeh-2.0.2.min.js": "ufR9RFnRs6lniiaFvtJziE0YeidtAgBRH6ux2oUItHw5WTvE1zuk9uzhUU/FJXDp", "https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.0.2.min.js": "8QM/PGWBT+IssZuRcDcjzwIh1mkOmJSoNMmyYDZbCfXJg3Ap1lEvdVgFuSAwhb/J", "https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.0.2.min.js": "Jm8cH3Rg0P6UeZhVY5cLy1WzKajUT9KImCY+76hEqrcJt59/d8GPvFHjCkYgnSIn", "https://cdn.bokeh.org/bokeh/release/bokeh-gl-2.0.2.min.js": "Ozhzj+SI7ywm74aOI/UajcWz+C0NjsPunEVyVIrxzYkB+jA+2tUw8x5xJCbVtK5I"};

    for (var i = 0; i < js_urls.length; i++) {
      var url = js_urls[i];
      var element = document.createElement('script');
      element.onload = on_load;
      element.onerror = on_error;
      element.async = false;
      element.src = url;
      if (url in hashes) {
        element.crossOrigin = "anonymous";
        element.integrity = "sha384-" + hashes[url];
      }
      console.debug("Bokeh: injecting script tag for BokehJS library: ", url);
      document.head.appendChild(element);
    }
  };

  function inject_raw_css(css) {
    const element = document.createElement("style");
    element.appendChild(document.createTextNode(css));
    document.body.appendChild(element);
  }

  
  var js_urls = ["https://cdn.bokeh.org/bokeh/release/bokeh-2.0.2.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.0.2.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.0.2.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-gl-2.0.2.min.js"];
  var css_urls = [];
  

  var inline_js = [
    function(Bokeh) {
      Bokeh.set_log_level("info");
    },
    function(Bokeh) {
    
    
    }
  ];

  function run_inline_js() {
    
    if (root.Bokeh !== undefined || force === true) {
      
    for (var i = 0; i < inline_js.length; i++) {
      inline_js[i].call(root, root.Bokeh);
    }
    if (force === true) {
        display_loaded();
      }} else if (Date.now() < root._bokeh_timeout) {
      setTimeout(run_inline_js, 100);
    } else if (!root._bokeh_failed_load) {
      console.log("Bokeh: BokehJS failed to load within specified timeout.");
      root._bokeh_failed_load = true;
    } else if (force !== true) {
      var cell = $(document.getElementById("1001")).parents('.cell').data().cell;
      cell.output_area.append_execute_result(NB_LOAD_WARNING)
    }

  }

  if (root._bokeh_is_loading === 0) {
    console.debug("Bokeh: BokehJS loaded, going straight to plotting");
    run_inline_js();
  } else {
    load_libs(css_urls, js_urls, function() {
      console.debug("Bokeh: BokehJS plotting callback run at", now());
      run_inline_js();
    });
  }
}(window));
</script>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We will be using <a href="https://bokeh.org/">bokeh</a> for drawing the football pitch and plot the events. I prepared 2 python functions to simplify both tasks:</p>
<ul>
<li><code>draw_pitch()</code>: Function to draw an empty pitch</li>
<li><code>plot_events(player_events, event_name, plot_color)</code>: Function that takes as input the events DataFrame, event name and a color; and plots the events on a football pitch</li>
</ul>
<p>You can find the soure code of both functions <a href="https://github.com/adilmoujahid/streamlit-messi-ronaldo/blob/master/plots.py">here</a>.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [28]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">messi_goals</span> <span class="o">=</span> <span class="n">messi_events_data_df</span><span class="p">[</span><span class="n">messi_events_data_df</span><span class="p">[</span><span class="s1">'goal'</span><span class="p">]</span> <span class="o">==</span> <span class="kc">True</span><span class="p">][</span><span class="s1">'positions'</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [29]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">p_messi</span> <span class="o">=</span> <span class="n">plot_events</span><span class="p">(</span><span class="n">messi_goals</span><span class="p">,</span> <span class="s1">'Goals'</span><span class="p">,</span> <span class="s1">'red'</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [30]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show</span><span class="p">(</span><span class="n">p_messi</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_html rendered_html output_subarea ">
<div class="bk-root" data-root-id="1002" id="f5f55798-670b-43d7-bf5e-217c1ae424e9"></div>
</div>
</div>
<div class="output_area">
<div class="prompt"></div>
<div id="ac66620c-435e-48a1-972b-02bc76330572"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#ac66620c-435e-48a1-972b-02bc76330572');
(function(root) {
  function embed_document(root) {
    
  var docs_json = {"f6371940-4a85-41c7-a701-05e3d7d87eaf":{"roots":{"references":[{"attributes":{"below":[{"id":"1011"}],"center":[{"id":"1014"},{"id":"1018"},{"id":"1108"}],"left":[{"id":"1015"}],"plot_height":295,"plot_width":450,"renderers":[{"id":"1036"},{"id":"1041"},{"id":"1046"},{"id":"1051"},{"id":"1056"},{"id":"1061"},{"id":"1066"},{"id":"1071"},{"id":"1076"},{"id":"1081"},{"id":"1086"},{"id":"1091"},{"id":"1096"},{"id":"1101"},{"id":"1106"}],"title":{"id":"1109"},"toolbar":{"id":"1026"},"toolbar_location":"below","x_range":{"id":"1003"},"x_scale":{"id":"1007"},"y_range":{"id":"1005"},"y_scale":{"id":"1009"}},"id":"1002","subtype":"Figure","type":"Plot"},{"attributes":{"fill_color":{"value":"white"},"line_color":{"value":"grey"},"line_width":{"value":2},"size":{"units":"screen","value":100},"x":{"value":52.0},"y":{"value":34.0}},"id":"1089","type":"Circle"},{"attributes":{"fill_color":{"value":"white"},"height":{"units":"data","value":68},"line_color":{"value":"grey"},"line_width":{"value":2},"width":{"units":"data","value":104},"x":{"value":52.0},"y":{"value":34.0}},"id":"1034","type":"Rect"},{"attributes":{"data":{},"selected":{"id":"1136"},"selection_policy":{"id":"1135"}},"id":"1083","type":"ColumnDataSource"},{"attributes":{"data_source":{"id":"1083"},"glyph":{"id":"1084"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1085"},"selection_glyph":null,"view":{"id":"1087"}},"id":"1086","type":"GlyphRenderer"},{"attributes":{"data_source":{"id":"1088"},"glyph":{"id":"1089"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1090"},"selection_glyph":null,"view":{"id":"1092"}},"id":"1091","type":"GlyphRenderer"},{"attributes":{"source":{"id":"1083"}},"id":"1087","type":"CDSView"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"grey"},"height":{"units":"data","value":7.3},"line_alpha":{"value":0.1},"line_color":{"value":"grey"},"line_width":{"value":2},"width":{"units":"data","value":0.5},"x":{"value":104},"y":{"value":34.0}},"id":"1080","type":"Rect"},{"attributes":{"data_source":{"id":"1078"},"glyph":{"id":"1079"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1080"},"selection_glyph":null,"view":{"id":"1082"}},"id":"1081","type":"GlyphRenderer"},{"attributes":{"data":{},"selected":{"id":"1138"},"selection_policy":{"id":"1137"}},"id":"1088","type":"ColumnDataSource"},{"attributes":{"fill_color":{"value":"grey"},"line_color":{"value":"grey"},"line_width":{"value":2},"size":{"units":"screen","value":2},"x":{"value":52.0},"y":{"value":34.0}},"id":"1094","type":"Circle"},{"attributes":{"bottom_units":"screen","fill_alpha":0.5,"fill_color":"lightgrey","left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"1025","type":"BoxAnnotation"},{"attributes":{"fill_color":{"value":"grey"},"line_color":{"value":"grey"},"line_width":{"value":2},"size":{"units":"screen","value":2},"x":{"value":93},"y":{"value":34.0}},"id":"1084","type":"Circle"},{"attributes":{"data_source":{"id":"1093"},"glyph":{"id":"1094"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1095"},"selection_glyph":null,"view":{"id":"1097"}},"id":"1096","type":"GlyphRenderer"},{"attributes":{"source":{"id":"1043"}},"id":"1047","type":"CDSView"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"white"},"height":{"units":"data","value":40.3},"line_alpha":{"value":0.1},"line_color":{"value":"grey"},"line_width":{"value":2},"width":{"units":"data","value":16.5},"x":{"value":95.75},"y":{"value":34.0}},"id":"1070","type":"Rect"},{"attributes":{"data":{},"selected":{"id":"1140"},"selection_policy":{"id":"1139"}},"id":"1093","type":"ColumnDataSource"},{"attributes":{"fill_color":{"value":"white"},"height":{"units":"data","value":40.3},"line_color":{"value":"grey"},"line_width":{"value":2},"width":{"units":"data","value":16.5},"x":{"value":8.25},"y":{"value":34.0}},"id":"1044","type":"Rect"},{"attributes":{"data_source":{"id":"1038"},"glyph":{"id":"1039"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1040"},"selection_glyph":null,"view":{"id":"1042"}},"id":"1041","type":"GlyphRenderer"},{"attributes":{},"id":"1127","type":"UnionRenderers"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"white"},"line_alpha":{"value":0.1},"line_color":{"value":"grey"},"line_width":{"value":2},"size":{"units":"screen","value":100},"x":{"value":52.0},"y":{"value":34.0}},"id":"1090","type":"Circle"},{"attributes":{"data":{},"selected":{"id":"1120"},"selection_policy":{"id":"1119"}},"id":"1043","type":"ColumnDataSource"},{"attributes":{"source":{"id":"1088"}},"id":"1092","type":"CDSView"},{"attributes":{"fill_color":{"value":"white"},"height":{"units":"data","value":40.3},"line_color":{"value":"grey"},"line_width":{"value":2},"width":{"units":"data","value":16.5},"x":{"value":95.75},"y":{"value":34.0}},"id":"1069","type":"Rect"},{"attributes":{"line_color":"grey","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"1099","type":"Line"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"white"},"line_alpha":{"value":0.1},"line_color":{"value":"grey"},"line_width":{"value":2},"size":{"units":"screen","value":50},"x":{"value":16.5},"y":{"value":34.0}},"id":"1040","type":"Circle"},{"attributes":{"data":{},"selected":{"id":"1130"},"selection_policy":{"id":"1129"}},"id":"1068","type":"ColumnDataSource"},{"attributes":{"axis":{"id":"1015"},"dimension":1,"ticker":null},"id":"1018","type":"Grid"},{"attributes":{"source":{"id":"1038"}},"id":"1042","type":"CDSView"},{"attributes":{"data":{"x":[52.0,52.0],"y":[0,68]},"selected":{"id":"1142"},"selection_policy":{"id":"1141"}},"id":"1098","type":"ColumnDataSource"},{"attributes":{"source":{"id":"1048"}},"id":"1052","type":"CDSView"},{"attributes":{"fill_color":{"value":"white"},"height":{"units":"data","value":18.3},"line_color":{"value":"grey"},"line_width":{"value":2},"width":{"units":"data","value":5.5},"x":{"value":2.75},"y":{"value":34.0}},"id":"1049","type":"Rect"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"grey"},"line_alpha":{"value":0.1},"line_color":{"value":"grey"},"line_width":{"value":2},"size":{"units":"screen","value":2},"x":{"value":52.0},"y":{"value":34.0}},"id":"1095","type":"Circle"},{"attributes":{"data_source":{"id":"1043"},"glyph":{"id":"1044"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1045"},"selection_glyph":null,"view":{"id":"1047"}},"id":"1046","type":"GlyphRenderer"},{"attributes":{"source":{"id":"1093"}},"id":"1097","type":"CDSView"},{"attributes":{"data_source":{"id":"1098"},"glyph":{"id":"1099"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1100"},"selection_glyph":null,"view":{"id":"1102"}},"id":"1101","type":"GlyphRenderer"},{"attributes":{},"id":"1016","type":"BasicTicker"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"white"},"height":{"units":"data","value":40.3},"line_alpha":{"value":0.1},"line_color":{"value":"grey"},"line_width":{"value":2},"width":{"units":"data","value":16.5},"x":{"value":8.25},"y":{"value":34.0}},"id":"1045","type":"Rect"},{"attributes":{"source":{"id":"1098"}},"id":"1102","type":"CDSView"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"red"},"line_color":{"value":"grey"},"size":{"units":"screen","value":8},"x":{"field":"x"},"y":{"field":"y"}},"id":"1104","type":"Circle"},{"attributes":{"data":{},"selected":{"id":"1122"},"selection_policy":{"id":"1121"}},"id":"1048","type":"ColumnDataSource"},{"attributes":{"fill_color":{"value":"white"},"height":{"units":"data","value":18.3},"line_color":{"value":"grey"},"line_width":{"value":2},"width":{"units":"data","value":5.5},"x":{"value":101.25},"y":{"value":34.0}},"id":"1074","type":"Rect"},{"attributes":{"source":{"id":"1053"}},"id":"1057","type":"CDSView"},{"attributes":{"line_alpha":0.1,"line_color":"grey","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"1100","type":"Line"},{"attributes":{"data_source":{"id":"1103"},"glyph":{"id":"1104"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1105"},"selection_glyph":null,"view":{"id":"1107"}},"id":"1106","type":"GlyphRenderer"},{"attributes":{"fill_color":{"value":"grey"},"height":{"units":"data","value":7.3},"line_color":{"value":"grey"},"line_width":{"value":2},"width":{"units":"data","value":0.5},"x":{"value":0},"y":{"value":34.0}},"id":"1054","type":"Rect"},{"attributes":{"data_source":{"id":"1048"},"glyph":{"id":"1049"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1050"},"selection_glyph":null,"view":{"id":"1052"}},"id":"1051","type":"GlyphRenderer"},{"attributes":{"data":{"x":[94.64,90.48,94.64,100.88,94.64,92.56,89.44,94.64,93.6,99.84,95.68,92.56,94.64,92.56,92.56,94.64,76.96,89.44,91.52,83.2,91.52,81.12,85.28,78.0,84.24,80.08,80.08,89.44,99.84,100.88,99.84,98.8,94.64,90.48],"y":[25.16,28.56,32.64,28.56,31.28,34.0,30.6,43.52,40.12,36.72,38.08,27.2,25.84,40.8,34.0,29.24,26.52,27.88,27.88,44.2,35.36,30.6,39.44,39.44,35.36,32.64,47.6,34.0,36.04,29.24,23.8,37.4,32.64,30.6]},"selected":{"id":"1144"},"selection_policy":{"id":"1143"}},"id":"1103","type":"ColumnDataSource"},{"attributes":{"formatter":{"id":"1113"},"ticker":{"id":"1016"}},"id":"1015","type":"LinearAxis"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"white"},"height":{"units":"data","value":18.3},"line_alpha":{"value":0.1},"line_color":{"value":"grey"},"line_width":{"value":2},"width":{"units":"data","value":5.5},"x":{"value":2.75},"y":{"value":34.0}},"id":"1050","type":"Rect"},{"attributes":{"data":{},"selected":{"id":"1124"},"selection_policy":{"id":"1123"}},"id":"1053","type":"ColumnDataSource"},{"attributes":{},"id":"1005","type":"DataRange1d"},{"attributes":{"background_fill_alpha":0.3,"background_fill_color":"red","render_mode":"css","text":"34 Goals","text_font_size":"20px","x":70,"x_units":"screen","y":190,"y_units":"screen"},"id":"1108","type":"Label"},{"attributes":{"source":{"id":"1103"}},"id":"1107","type":"CDSView"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"red"},"line_alpha":{"value":0.1},"line_color":{"value":"grey"},"size":{"units":"screen","value":8},"x":{"field":"x"},"y":{"field":"y"}},"id":"1105","type":"Circle"},{"attributes":{"data_source":{"id":"1053"},"glyph":{"id":"1054"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1055"},"selection_glyph":null,"view":{"id":"1057"}},"id":"1056","type":"GlyphRenderer"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"grey"},"height":{"units":"data","value":7.3},"line_alpha":{"value":0.1},"line_color":{"value":"grey"},"line_width":{"value":2},"width":{"units":"data","value":0.5},"x":{"value":0},"y":{"value":34.0}},"id":"1055","type":"Rect"},{"attributes":{"data":{},"selected":{"id":"1126"},"selection_policy":{"id":"1125"}},"id":"1058","type":"ColumnDataSource"},{"attributes":{"fill_color":{"value":"grey"},"line_color":{"value":"grey"},"line_width":{"value":2},"size":{"units":"screen","value":2},"x":{"value":11},"y":{"value":34.0}},"id":"1059","type":"Circle"},{"attributes":{"data_source":{"id":"1058"},"glyph":{"id":"1059"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1060"},"selection_glyph":null,"view":{"id":"1062"}},"id":"1061","type":"GlyphRenderer"},{"attributes":{},"id":"1124","type":"Selection"},{"attributes":{"source":{"id":"1078"}},"id":"1082","type":"CDSView"},{"attributes":{"source":{"id":"1063"}},"id":"1067","type":"CDSView"},{"attributes":{"text":""},"id":"1109","type":"Title"},{"attributes":{},"id":"1111","type":"BasicTickFormatter"},{"attributes":{},"id":"1113","type":"BasicTickFormatter"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"grey"},"line_alpha":{"value":0.1},"line_color":{"value":"grey"},"line_width":{"value":2},"size":{"units":"screen","value":2},"x":{"value":11},"y":{"value":34.0}},"id":"1060","type":"Circle"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"white"},"height":{"units":"data","value":18.3},"line_alpha":{"value":0.1},"line_color":{"value":"grey"},"line_width":{"value":2},"width":{"units":"data","value":5.5},"x":{"value":101.25},"y":{"value":34.0}},"id":"1075","type":"Rect"},{"attributes":{"source":{"id":"1058"}},"id":"1062","type":"CDSView"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"grey"},"line_alpha":{"value":0.1},"line_color":{"value":"grey"},"line_width":{"value":2},"size":{"units":"screen","value":2},"x":{"value":93},"y":{"value":34.0}},"id":"1085","type":"Circle"},{"attributes":{},"id":"1115","type":"UnionRenderers"},{"attributes":{},"id":"1122","type":"Selection"},{"attributes":{},"id":"1128","type":"Selection"},{"attributes":{},"id":"1116","type":"Selection"},{"attributes":{},"id":"1117","type":"UnionRenderers"},{"attributes":{},"id":"1118","type":"Selection"},{"attributes":{},"id":"1119","type":"UnionRenderers"},{"attributes":{},"id":"1120","type":"Selection"},{"attributes":{},"id":"1129","type":"UnionRenderers"},{"attributes":{},"id":"1130","type":"Selection"},{"attributes":{"source":{"id":"1068"}},"id":"1072","type":"CDSView"},{"attributes":{"data_source":{"id":"1068"},"glyph":{"id":"1069"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1070"},"selection_glyph":null,"view":{"id":"1072"}},"id":"1071","type":"GlyphRenderer"},{"attributes":{},"id":"1131","type":"UnionRenderers"},{"attributes":{},"id":"1132","type":"Selection"},{"attributes":{},"id":"1003","type":"DataRange1d"},{"attributes":{},"id":"1133","type":"UnionRenderers"},{"attributes":{"fill_color":{"value":"white"},"line_color":{"value":"grey"},"line_width":{"value":2},"size":{"units":"screen","value":50},"x":{"value":87.5},"y":{"value":34.0}},"id":"1064","type":"Circle"},{"attributes":{},"id":"1007","type":"LinearScale"},{"attributes":{},"id":"1134","type":"Selection"},{"attributes":{},"id":"1135","type":"UnionRenderers"},{"attributes":{},"id":"1136","type":"Selection"},{"attributes":{"fill_color":{"value":"grey"},"height":{"units":"data","value":7.3},"line_color":{"value":"grey"},"line_width":{"value":2},"width":{"units":"data","value":0.5},"x":{"value":104},"y":{"value":34.0}},"id":"1079","type":"Rect"},{"attributes":{},"id":"1009","type":"LinearScale"},{"attributes":{},"id":"1121","type":"UnionRenderers"},{"attributes":{},"id":"1137","type":"UnionRenderers"},{"attributes":{"formatter":{"id":"1111"},"ticker":{"id":"1012"}},"id":"1011","type":"LinearAxis"},{"attributes":{},"id":"1138","type":"Selection"},{"attributes":{},"id":"1012","type":"BasicTicker"},{"attributes":{},"id":"1139","type":"UnionRenderers"},{"attributes":{},"id":"1140","type":"Selection"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"white"},"height":{"units":"data","value":68},"line_alpha":{"value":0.1},"line_color":{"value":"grey"},"line_width":{"value":2},"width":{"units":"data","value":104},"x":{"value":52.0},"y":{"value":34.0}},"id":"1035","type":"Rect"},{"attributes":{"data":{},"selected":{"id":"1134"},"selection_policy":{"id":"1133"}},"id":"1078","type":"ColumnDataSource"},{"attributes":{"data_source":{"id":"1033"},"glyph":{"id":"1034"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1035"},"selection_glyph":null,"view":{"id":"1037"}},"id":"1036","type":"GlyphRenderer"},{"attributes":{},"id":"1141","type":"UnionRenderers"},{"attributes":{"data":{},"selected":{"id":"1116"},"selection_policy":{"id":"1115"}},"id":"1033","type":"ColumnDataSource"},{"attributes":{},"id":"1142","type":"Selection"},{"attributes":{"fill_color":{"value":"white"},"line_color":{"value":"grey"},"line_width":{"value":2},"size":{"units":"screen","value":50},"x":{"value":16.5},"y":{"value":34.0}},"id":"1039","type":"Circle"},{"attributes":{},"id":"1019","type":"PanTool"},{"attributes":{},"id":"1143","type":"UnionRenderers"},{"attributes":{},"id":"1123","type":"UnionRenderers"},{"attributes":{},"id":"1020","type":"WheelZoomTool"},{"attributes":{},"id":"1144","type":"Selection"},{"attributes":{"data_source":{"id":"1073"},"glyph":{"id":"1074"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1075"},"selection_glyph":null,"view":{"id":"1077"}},"id":"1076","type":"GlyphRenderer"},{"attributes":{"overlay":{"id":"1025"}},"id":"1021","type":"BoxZoomTool"},{"attributes":{"source":{"id":"1073"}},"id":"1077","type":"CDSView"},{"attributes":{},"id":"1022","type":"SaveTool"},{"attributes":{},"id":"1023","type":"ResetTool"},{"attributes":{"data":{},"selected":{"id":"1118"},"selection_policy":{"id":"1117"}},"id":"1038","type":"ColumnDataSource"},{"attributes":{"data":{},"selected":{"id":"1132"},"selection_policy":{"id":"1131"}},"id":"1073","type":"ColumnDataSource"},{"attributes":{},"id":"1024","type":"HelpTool"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_multi":null,"active_scroll":"auto","active_tap":"auto","tools":[{"id":"1019"},{"id":"1020"},{"id":"1021"},{"id":"1022"},{"id":"1023"},{"id":"1024"}]},"id":"1026","type":"Toolbar"},{"attributes":{"axis":{"id":"1011"},"ticker":null},"id":"1014","type":"Grid"},{"attributes":{"data":{},"selected":{"id":"1128"},"selection_policy":{"id":"1127"}},"id":"1063","type":"ColumnDataSource"},{"attributes":{},"id":"1125","type":"UnionRenderers"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"white"},"line_alpha":{"value":0.1},"line_color":{"value":"grey"},"line_width":{"value":2},"size":{"units":"screen","value":50},"x":{"value":87.5},"y":{"value":34.0}},"id":"1065","type":"Circle"},{"attributes":{"data_source":{"id":"1063"},"glyph":{"id":"1064"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1065"},"selection_glyph":null,"view":{"id":"1067"}},"id":"1066","type":"GlyphRenderer"},{"attributes":{"source":{"id":"1033"}},"id":"1037","type":"CDSView"},{"attributes":{},"id":"1126","type":"Selection"}],"root_ids":["1002"]},"title":"Bokeh Application","version":"2.0.2"}};
  var render_items = [{"docid":"f6371940-4a85-41c7-a701-05e3d7d87eaf","root_ids":["1002"],"roots":{"1002":"f5f55798-670b-43d7-bf5e-217c1ae424e9"}}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);

  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="3.-Building-the-Web-App">3. Building the Web App<a class="anchor-link" href="#3.-Building-the-Web-App">¶</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now that we understood how to read, structure and plot the data; we can start building the web app. The goal of the app is to compare the games of Messi and Ronaldo by focusing on: Goals, Assists, Shots, Free Kicks and Passes.</p>
<p>The app will have one tab for each event type. In each tab, we will show statistics and positions of the events; and the breakdown of events count by game. The app will also have a filter that we can use to select the events by left/right foot.</p>
<p>We will use an open-source app framework called <a href="https://www.streamlit.io/">Streamlit</a>. Streamlit is a python library that can be installed using a <code>pip install</code> command. Streamlit is an easy to use library that allows us to create web applications using Python only and without writing HTML/JS/CSS code.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You can download the source from <a href="https://github.com/adilmoujahid/streamlit-messi-ronaldo">this github repo</a> and you can start the application by running the following command from your terminal <code>streamlit run app.py</code> and open <a href="http://localhost:8501"><code>http://localhost:8501</code></a> in your browser.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img alt="Alt Text" src="/images/streamlit-messi-ronaldo.gif"/></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Breakdown-of-the-code">Breakdown of the code<a class="anchor-link" href="#Breakdown-of-the-code">¶</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The First function <code>get_data(foot)</code> reads the pickle files and returns <code>messi_events_data_df</code>, <code>ronaldo_events_data_df</code>, <code>barca_matches_dates_df</code> and <code>real_matches_dates_df</code> DataFrames. It also filters the events by left/right foot if we pass <code>Left</code> or <code>Right</code> as parameter.</p>
<p>The decorator <code>@st.cache(allow_output_mutation=True)</code> is used to update the data whenever we call the <code>get_data(foot)</code> function.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span></span><span class="nd">@st.cache</span><span class="p">(</span><span class="n">allow_output_mutation</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">get_data</span><span class="p">(</span><span class="n">foot</span><span class="p">):</span>
    <span class="o">.</span>
    <span class="o">.</span>
    <span class="o">.</span>

    <span class="k">return</span> <span class="n">messi_events_data_df</span><span class="p">,</span> <span class="n">ronaldo_events_data_df</span><span class="p">,</span> <span class="n">barca_matches_dates_df</span><span class="p">,</span> <span class="n">real_matches_dates_df</span>
</pre></div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Creating-tabs-for-each-event-type">Creating tabs for each event type<a class="anchor-link" href="#Creating-tabs-for-each-event-type">¶</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Streamlit is a powerful library for buidling powerful web apps and user interfaces, however the current version of the library doesn't support the creation of tabs natively. In order to add tabs to the application, we will use Bokeh and the method described <a href="https://discuss.streamlit.io/t/bokeh-can-provide-layouts-tabs-advanced-tables-and-js-callbacks-in-streamlit/1108">here</a>.</p>
<p>For each event type, we have a function that takes as input the 4 DataFrames, and for each player it draws the events positions on a football pitch and a table with the breakdown of events by game. The function combined the 2 plots and the 2 tables in a <a href="https://docs.bokeh.org/en/latest/docs/reference/layouts.html">Bokeh Grid</a> and returns the the grid as a <a href="https://docs.bokeh.org/en/latest/docs/reference/models/layouts.html#bokeh.models.layouts.Panel">Bokeh Panel</a>.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_goals</span><span class="p">(</span><span class="n">messi_events_data_df</span><span class="p">,</span> <span class="n">ronaldo_events_data_df</span><span class="p">,</span> <span class="n">barca_matches_dates_df</span><span class="p">,</span> <span class="n">real_matches_dates_df</span><span class="p">):</span>

    <span class="c1">#Getting events data positions</span>
    <span class="n">messi_goals</span> <span class="o">=</span> <span class="n">messi_events_data_df</span><span class="p">[</span><span class="n">messi_events_data_df</span><span class="p">[</span><span class="s1">'goal'</span><span class="p">]</span> <span class="o">==</span> <span class="bp">True</span><span class="p">][</span><span class="s1">'positions'</span><span class="p">]</span>
    <span class="n">ronaldo_goals</span> <span class="o">=</span> <span class="n">ronaldo_events_data_df</span><span class="p">[</span><span class="n">ronaldo_events_data_df</span><span class="p">[</span><span class="s1">'goal'</span><span class="p">]</span> <span class="o">==</span> <span class="bp">True</span><span class="p">][</span><span class="s1">'positions'</span><span class="p">]</span>

    <span class="c1">#Pitch with events</span>
    <span class="n">p_messi</span> <span class="o">=</span> <span class="n">plot_events</span><span class="p">(</span><span class="n">messi_goals</span><span class="p">,</span> <span class="s1">'Goals'</span><span class="p">,</span> <span class="s1">'red'</span><span class="p">)</span>
    <span class="n">p_ronaldo</span> <span class="o">=</span> <span class="n">plot_events</span><span class="p">(</span><span class="n">ronaldo_goals</span><span class="p">,</span> <span class="s1">'Goals'</span><span class="p">,</span> <span class="s1">'blue'</span><span class="p">)</span>

    <span class="o">....</span>

    <span class="n">grid</span> <span class="o">=</span> <span class="n">bokeh</span><span class="o">.</span><span class="n">layouts</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span>
        <span class="n">children</span><span class="o">=</span><span class="p">[</span>
            <span class="p">[</span><span class="n">p_messi</span><span class="p">,</span> <span class="n">p_ronaldo</span><span class="p">],</span>
            <span class="p">[</span><span class="n">print_table</span><span class="p">(</span><span class="n">messi_stats_df</span><span class="p">),</span> <span class="n">print_table</span><span class="p">(</span><span class="n">ronaldo_stats_df</span><span class="p">)],</span>
        <span class="p">],</span>
        <span class="n">sizing_mode</span><span class="o">=</span><span class="s2">"stretch_width"</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">bokeh</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">Panel</span><span class="p">(</span><span class="n">child</span><span class="o">=</span><span class="n">grid</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">"Goals"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In the main function at the end of <a href="https://github.com/adilmoujahid/streamlit-messi-ronaldo/blob/master/app.py">app.py</a>, you can see how the 5 functions are used to create 5 tabs for each event type.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span></span><span class="n">tabs</span> <span class="o">=</span> <span class="n">bokeh</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">Tabs</span><span class="p">(</span>
    <span class="n">tabs</span><span class="o">=</span><span class="p">[</span>
        <span class="n">plot_goals</span><span class="p">(</span><span class="n">messi_events_data_df</span><span class="p">,</span> <span class="n">ronaldo_events_data_df</span><span class="p">,</span> 
                   <span class="n">barca_matches_dates_df</span><span class="p">,</span> <span class="n">real_matches_dates_df</span><span class="p">),</span>
        <span class="n">plot_assists</span><span class="p">(</span><span class="n">messi_events_data_df</span><span class="p">,</span> <span class="n">ronaldo_events_data_df</span><span class="p">,</span> 
                     <span class="n">barca_matches_dates_df</span><span class="p">,</span> <span class="n">real_matches_dates_df</span><span class="p">),</span>
        <span class="n">plot_shots</span><span class="p">(</span><span class="n">messi_events_data_df</span><span class="p">,</span> <span class="n">ronaldo_events_data_df</span><span class="p">,</span> 
                   <span class="n">barca_matches_dates_df</span><span class="p">,</span> <span class="n">real_matches_dates_df</span><span class="p">),</span>
        <span class="n">plot_free_kicks</span><span class="p">(</span><span class="n">messi_events_data_df</span><span class="p">,</span> <span class="n">ronaldo_events_data_df</span><span class="p">,</span> 
                        <span class="n">barca_matches_dates_df</span><span class="p">,</span> <span class="n">real_matches_dates_df</span><span class="p">),</span>
        <span class="n">plot_passes</span><span class="p">(</span><span class="n">messi_events_data_df</span><span class="p">,</span> <span class="n">ronaldo_events_data_df</span><span class="p">,</span> 
                    <span class="n">barca_matches_dates_df</span><span class="p">,</span> <span class="n">real_matches_dates_df</span><span class="p">),</span>
    <span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Left/Right-Foot-Filter">Left/Right Foot Filter<a class="anchor-link" href="#Left/Right-Foot-Filter">¶</a></h3><p>In the main function, we define a <a href="https://docs.streamlit.io/en/latest/api.html#streamlit.radio">streamlit Radio</a> that we can use to filter the data by foot.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span></span><span class="n">foot</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">radio</span><span class="p">(</span><span class="s2">"Foot"</span><span class="p">,</span> <span class="p">(</span><span class="s1">'Either Left or Right'</span><span class="p">,</span> <span class="s1">'Left'</span><span class="p">,</span> <span class="s1">'Right'</span><span class="p">))</span>
<span class="n">messi_events_data_df</span><span class="p">,</span> <span class="n">ronaldo_events_data_df</span><span class="p">,</span> <span class="n">barca_matches_dates_df</span><span class="p">,</span> <span class="n">real_matches_dates_df</span> <span class="o">=</span> <span class="n">get_data</span><span class="p">(</span><span class="n">foot</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Stats-of-both-players-as-Table">Stats of both players as Table<a class="anchor-link" href="#Stats-of-both-players-as-Table">¶</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In the main function, we calculate the stats of both Messi and Ronaldo and display them as a dataframe using <a href="https://docs.streamlit.io/en/latest/api.html#display-data">streamlit.dataframe</a></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span></span><span class="n">goals</span> <span class="o">=</span> <span class="p">[</span><span class="n">messi_events_data_df</span><span class="p">[</span><span class="s1">'goal'</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="n">ronaldo_events_data_df</span><span class="p">[</span><span class="s1">'goal'</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()]</span>
<span class="n">assists</span> <span class="o">=</span> <span class="p">[</span><span class="n">messi_events_data_df</span><span class="p">[</span><span class="s1">'assist'</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="n">ronaldo_events_data_df</span><span class="p">[</span><span class="s1">'assist'</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()]</span>
<span class="n">shots</span> <span class="o">=</span> <span class="p">[</span><span class="n">messi_events_data_df</span><span class="p">[</span><span class="n">messi_events_data_df</span><span class="p">[</span><span class="s1">'eventName'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Shot'</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()[</span><span class="s1">'eventName'</span><span class="p">],</span>
         <span class="n">ronaldo_events_data_df</span><span class="p">[</span><span class="n">ronaldo_events_data_df</span><span class="p">[</span><span class="s1">'eventName'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Shot'</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()[</span><span class="s1">'eventName'</span><span class="p">]]</span>
<span class="n">free_kicks</span> <span class="o">=</span> <span class="p">[</span><span class="n">messi_events_data_df</span><span class="p">[</span><span class="n">messi_events_data_df</span><span class="p">[</span><span class="s1">'subEventName'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Free kick shot'</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()[</span><span class="s1">'subEventName'</span><span class="p">],</span> 
            <span class="n">messi_events_data_df</span><span class="p">[</span><span class="n">messi_events_data_df</span><span class="p">[</span><span class="s1">'subEventName'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Free kick shot'</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()[</span><span class="s1">'subEventName'</span><span class="p">]]</span>
<span class="n">passes</span> <span class="o">=</span> <span class="p">[</span><span class="n">messi_events_data_df</span><span class="p">[</span><span class="n">messi_events_data_df</span><span class="p">[</span><span class="s1">'eventName'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Pass'</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()[</span><span class="s1">'eventName'</span><span class="p">],</span>
        <span class="n">ronaldo_events_data_df</span><span class="p">[</span><span class="n">ronaldo_events_data_df</span><span class="p">[</span><span class="s1">'eventName'</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'Pass'</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()[</span><span class="s1">'eventName'</span><span class="p">]]</span>

<span class="n">stats_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">goals</span><span class="p">,</span> <span class="n">assists</span><span class="p">,</span> <span class="n">shots</span><span class="p">,</span> <span class="n">free_kicks</span><span class="p">,</span> <span class="n">passes</span><span class="p">],</span>
                        <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">'Messi'</span><span class="p">,</span> <span class="s1">'Ronaldo'</span><span class="p">],</span> 
                        <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">'Goals'</span><span class="p">,</span> <span class="s1">'Assists'</span><span class="p">,</span> <span class="s1">'Shots'</span><span class="p">,</span> <span class="s1">'Free Kicks'</span><span class="p">,</span> <span class="s1">'Passes'</span><span class="p">])</span>

<span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">markdown</span><span class="p">(</span><span class="s2">""" ### Stats """</span><span class="p">)</span>
<span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">dataframe</span><span class="p">(</span><span class="n">stats_df</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Conclusion">Conclusion<a class="anchor-link" href="#Conclusion">¶</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In this blog post, we saw how to build a web app that analyzes Messi and Ronaldo's game during LaLiga season 2017-18 using Python and Streamlit. The dataset and the source code from this post can be adapted to implement other use cases. For example: Comparaison between other players, teams and even championships.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="References">References<a class="anchor-link" href="#References">¶</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>[1] Pappalardo et al., (2019) A public data set of spatio-temporal match events in soccer competitions, Nature Scientific Data 6:236, <a href="https://www.nature.com/articles/s41597-019-0247-7">https://www.nature.com/articles/s41597-019-0247-7</a></p>
<p>[2] <a href="https://figshare.com/articles/Events/7770599">https://figshare.com/articles/Events/7770599</a></p>
</div>
</div>
</div>

<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
 </p>
            <div class="hr"></div>
            
            <!-- Begin MailChimp Signup Form -->
            <link href="//cdn-images.mailchimp.com/embedcode/slim-081711.css" rel="stylesheet" type="text/css">
            <style type="text/css">
                #mc_embed_signup{background:#F1F3F3; clear:left; font:14px Helvetica,Arial,sans-serif; }
                #mc-embedded-subscribe.button{background-color: #0f52ba;}
                /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
                   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
            </style>
            <div id="mc_embed_signup">
            <form action="//adilmoujahid.us10.list-manage.com/subscribe/post?u=28846a375fbf5c13a93712283&amp;id=a45c6ff723" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
                <div id="mc_embed_signup_scroll">
                <label for="mce-EMAIL">Subscribe to my Data in Practice Newsletter</label>
                <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
                <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
                <div style="position: absolute; left: -5000px;"><input type="text" name="b_28846a375fbf5c13a93712283_a45c6ff723" tabindex="-1" value=""></div>
                <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
                </div>
            </form>
            </div>

            <!--End mc_embed_signup-->
            <a href="#" class="go-top">Go Top</a>
<div class="comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = "adilmoujahid"; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div><footer class="footer">
    <p>&copy; Adil Moujahid &ndash;
        Built with <a href="https://github.com/PurePelicanTheme/pure">Pure Theme</a>
        for <a href="http://blog.getpelican.com/">Pelican</a>
    </p>
</footer>        </div>
    </div>
</div>
    <script>
        var $top = $('.go-top');

        // Show or hide the sticky footer button
        $(window).scroll(function() {
            if ($(this).scrollTop() > 200) {
                $top.fadeIn(200);
            } else {
                $top.fadeOut(200);
            }
        });

        // Animate the scroll to top
        $top.click(function(event) {
            event.preventDefault();
            $('html, body').animate({scrollTop: 0}, 300);
        })

        // Makes sure that the href="#" attached to the <a> elements
        // don't scroll you back up the page.
        $('body').on('click', 'a[href="#"]', function(event) {
            event.preventDefault();
        });
    </script>
    <script type="text/javascript">
        var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
        document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
        try {
            var pageTracker = _gat._getTracker("UA-52651211-1");
            pageTracker._trackPageview();
            } catch(err) {}
    </script>
</body>


</html>